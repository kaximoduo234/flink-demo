{
  "paragraphs": [
    {
      "text": "# 🚀 Flink SQL Gateway 集成测试\n\n本 Notebook 演示通过 **SQL Gateway 模式** 使用 Flink SQL 进行实时数据处理。\n\n## 架构说明\n- **Zeppelin**: 提供交互式数据分析界面\n- **SQL Gateway**: Flink 1.20.1 的现代化 REST API 接口  \n- **JobManager/TaskManager**: Flink 集群负责作业执行\n- **StarRocks**: 实时数据仓库存储",
      "user": "anonymous",
      "dateUpdated": "2025-06-19 02:56:06.439",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "org.apache.zeppelin.interpreter.InterpreterException: java.io.IOException: FLINK_HOME \u0027/opt/flink\u0027 doesn\u0027t exist\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.open(RemoteInterpreter.java:131)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.getFormType(RemoteInterpreter.java:273)\n\tat org.apache.zeppelin.notebook.Paragraph.jobRun(Paragraph.java:428)\n\tat org.apache.zeppelin.notebook.Paragraph.jobRun(Paragraph.java:68)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:187)\n\tat org.apache.zeppelin.scheduler.AbstractScheduler.runJob(AbstractScheduler.java:136)\n\tat org.apache.zeppelin.scheduler.RemoteScheduler$JobRunner.run(RemoteScheduler.java:186)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n\tat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.io.IOException: FLINK_HOME \u0027/opt/flink\u0027 doesn\u0027t exist\n\tat org.apache.zeppelin.interpreter.launcher.FlinkInterpreterLauncher.getFlinkHome(FlinkInterpreterLauncher.java:210)\n\tat org.apache.zeppelin.interpreter.launcher.FlinkInterpreterLauncher.buildEnvFromProperties(FlinkInterpreterLauncher.java:56)\n\tat org.apache.zeppelin.interpreter.launcher.StandardInterpreterLauncher.launchDirectly(StandardInterpreterLauncher.java:76)\n\tat org.apache.zeppelin.interpreter.launcher.InterpreterLauncher.launch(InterpreterLauncher.java:106)\n\tat org.apache.zeppelin.interpreter.InterpreterSetting.createInterpreterProcess(InterpreterSetting.java:864)\n\tat org.apache.zeppelin.interpreter.ManagedInterpreterGroup.getOrCreateInterpreterProcess(ManagedInterpreterGroup.java:69)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.getOrCreateInterpreterProcess(RemoteInterpreter.java:106)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.internal_create(RemoteInterpreter.java:156)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreter.open(RemoteInterpreter.java:128)\n\t... 9 more\n"
          }
        ]
      },
      "apps": [],
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1640000000000_000000001",
      "id": "paragraph_1640000000000_000000001",
      "dateCreated": "2025-06-19 10:52:00.000",
      "dateStarted": "2025-06-19 02:56:06.477",
      "dateFinished": "2025-06-19 02:56:06.519",
      "status": "ERROR"
    },
    {
      "text": "%flink.ssql\n-- 基础连接测试\nSHOW CATALOGS;",
      "user": "anonymous",
      "dateUpdated": "2025-06-19 10:52:00.000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql"
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1640000000000_000000002",
      "id": "paragraph_1640000000000_000000002",
      "dateCreated": "2025-06-19 10:52:00.000",
      "status": "READY"
    },
    {
      "text": "%flink.ssql\n-- 查看可用数据库\nSHOW DATABASES;",
      "user": "anonymous",
      "dateUpdated": "2025-06-19 10:52:00.000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql"
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1640000000000_000000003",
      "id": "paragraph_1640000000000_000000003",
      "dateCreated": "2025-06-19 10:52:00.000",
      "status": "READY"
    },
    {
      "text": "%flink.ssql\n-- 数据生成器测试\nCREATE TABLE datagen_source (\n    user_id INT,\n    item_id INT,\n    behavior STRING,\n    event_time TIMESTAMP(3),\n    WATERMARK FOR event_time AS event_time - INTERVAL \u00275\u0027 SECOND\n) WITH (\n    \u0027connector\u0027 \u003d \u0027datagen\u0027,\n    \u0027rows-per-second\u0027 \u003d \u00272\u0027,\n    \u0027fields.user_id.kind\u0027 \u003d \u0027sequence\u0027,\n    \u0027fields.user_id.start\u0027 \u003d \u00271001\u0027,\n    \u0027fields.user_id.end\u0027 \u003d \u00271010\u0027,\n    \u0027fields.item_id.kind\u0027 \u003d \u0027random\u0027,\n    \u0027fields.item_id.min\u0027 \u003d \u00272001\u0027,\n    \u0027fields.item_id.max\u0027 \u003d \u00272020\u0027,\n    \u0027fields.behavior.length\u0027 \u003d \u00271\u0027\n);",
      "user": "anonymous",
      "dateUpdated": "2025-06-19 10:52:00.000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql"
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1640000000000_000000004",
      "id": "paragraph_1640000000000_000000004",
      "dateCreated": "2025-06-19 10:52:00.000",
      "status": "READY"
    },
    {
      "text": "%flink.ssql\n-- 流式查询测试\nSELECT \n    user_id,\n    item_id,\n    behavior,\n    event_time\nFROM datagen_source \nLIMIT 10;",
      "user": "anonymous",
      "dateUpdated": "2025-06-19 10:52:00.000",
      "progress": 0,
      "config": {
        "editorSetting": {
          "language": "sql"
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "runtimeInfos": {},
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1640000000000_000000005",
      "id": "paragraph_1640000000000_000000005",
      "dateCreated": "2025-06-19 10:52:00.000",
      "status": "READY"
    }
  ],
  "name": "Flink-Gateway-Test",
  "id": "DEMO123",
  "defaultInterpreterGroup": "flink",
  "version": "0.12.0",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}